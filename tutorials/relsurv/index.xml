<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Estimate relative survival $:$ tied data vs. untied data | Enoch Yi-Tung Chen</title>
    <link>https://enochytchen.com/tutorials/relsurv/</link>
      <atom:link href="https://enochytchen.com/tutorials/relsurv/index.xml" rel="self" type="application/rss+xml" />
    <description>Estimate relative survival $:$ tied data vs. untied data</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><lastBuildDate>Tue, 22 Sep 2020 00:00:00 +0000</lastBuildDate>
    <image>
      <url>https://enochytchen.com/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_512x512_fill_lanczos_center_2.png</url>
      <title>Estimate relative survival $:$ tied data vs. untied data</title>
      <link>https://enochytchen.com/tutorials/relsurv/</link>
    </image>
    
    <item>
      <title>Untied time data → Tied</title>
      <link>https://enochytchen.com/tutorials/relsurv/untied/</link>
      <pubDate>Thu, 24 Sep 2020 00:00:00 +0000</pubDate>
      <guid>https://enochytchen.com/tutorials/relsurv/untied/</guid>
      <description>&lt;p&gt;(Not completed yet)&lt;/p&gt;
&lt;p&gt;The codes used in this tutorial are available below.&lt;br&gt;

&lt;a href=&#34;https://enochytchen.com/tutorials/relsurv/untied/using_sim.R&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rs.surv&lt;/a&gt;&lt;br&gt;

&lt;a href=&#34;https://enochytchen.com/tutorials/relsurv/untied/using_sim.do&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;stpp, strs, stnet&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;dataset&#34;&gt;Dataset&lt;/h3&gt;
&lt;p&gt;The dataset (&lt;code&gt;scenario2_1.dta&lt;/code&gt;) is a simulated data, containing 1000 subjects. The original survival time is untied data with 651 distinct values in years (min: 0.0027; max: 12). We then added ties into the data by flooring the time into discrete days, weeks, months, quaters, or years. More ties are added (i.e., less distinct values) as the time interval becomes larger (days→years).&lt;/p&gt;
&lt;p&gt;The following table shows how the time was treated in different units.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Time variable&lt;/th&gt;
&lt;th&gt;Discrete time in&lt;/th&gt;
&lt;th&gt;Stata code&lt;/th&gt;
&lt;th&gt;Distinct values&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;tt1&lt;/td&gt;
&lt;td&gt;Original continuous time&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;651&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tt2&lt;/td&gt;
&lt;td&gt;Days&lt;/td&gt;
&lt;td&gt;floor(tt1*365.241)/365.241&lt;/td&gt;
&lt;td&gt;569&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tt3&lt;/td&gt;
&lt;td&gt;Weeks&lt;/td&gt;
&lt;td&gt;floor(tt1*52.177)/52.177&lt;/td&gt;
&lt;td&gt;332&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tt4&lt;/td&gt;
&lt;td&gt;Months&lt;/td&gt;
&lt;td&gt;floor(tt1*12)/12&lt;/td&gt;
&lt;td&gt;132&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tt5&lt;/td&gt;
&lt;td&gt;Quarters&lt;/td&gt;
&lt;td&gt;floor(tt1*4)/4&lt;/td&gt;
&lt;td&gt;49&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tt6&lt;/td&gt;
&lt;td&gt;Years&lt;/td&gt;
&lt;td&gt;floor(tt1)&lt;/td&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;relative-survival-estimates&#34;&gt;Relative survival estimates&lt;/h2&gt;
&lt;p&gt;The following tables show the estimates of 1-, 5-, and 10-year relative survival (RS) using the Pohar-Perme estimator by &lt;code&gt;rs.surv&lt;/code&gt;, &lt;code&gt;stpp&lt;/code&gt;, &lt;code&gt;strs&lt;/code&gt;, and &lt;code&gt;stnet&lt;/code&gt;. To make the tables look tidier, here we dismissed the 95% CI, which however can be found in the outputs of the syntax.&lt;/p&gt;
&lt;h3 id=&#34;rssurv&#34;&gt;rs.surv()&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;RS&lt;/th&gt;
&lt;th&gt;tt1&lt;/th&gt;
&lt;th&gt;tt2&lt;/th&gt;
&lt;th&gt;tt3&lt;/th&gt;
&lt;th&gt;tt4&lt;/th&gt;
&lt;th&gt;tt5&lt;/th&gt;
&lt;th&gt;tt6&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;0.797&lt;/td&gt;
&lt;td&gt;0.812&lt;/td&gt;
&lt;td&gt;0.823&lt;/td&gt;
&lt;td&gt;0.852&lt;/td&gt;
&lt;td&gt;0.884&lt;/td&gt;
&lt;td&gt;0.915&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;0.618&lt;/td&gt;
&lt;td&gt;0.630&lt;/td&gt;
&lt;td&gt;0.639&lt;/td&gt;
&lt;td&gt;0.667&lt;/td&gt;
&lt;td&gt;0.691&lt;/td&gt;
&lt;td&gt;0.769&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;0.534&lt;/td&gt;
&lt;td&gt;0.544&lt;/td&gt;
&lt;td&gt;0.552&lt;/td&gt;
&lt;td&gt;0.572&lt;/td&gt;
&lt;td&gt;0.594&lt;/td&gt;
&lt;td&gt;0.644&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;stpp&#34;&gt;stpp&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;RS&lt;/th&gt;
&lt;th&gt;tt1&lt;/th&gt;
&lt;th&gt;tt2&lt;/th&gt;
&lt;th&gt;tt3&lt;/th&gt;
&lt;th&gt;tt4&lt;/th&gt;
&lt;th&gt;tt5&lt;/th&gt;
&lt;th&gt;tt6&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;0.797&lt;/td&gt;
&lt;td&gt;0.812&lt;/td&gt;
&lt;td&gt;0.823&lt;/td&gt;
&lt;td&gt;0.853&lt;/td&gt;
&lt;td&gt;0.886&lt;/td&gt;
&lt;td&gt;0.919&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;0.613&lt;/td&gt;
&lt;td&gt;0.625&lt;/td&gt;
&lt;td&gt;0.634&lt;/td&gt;
&lt;td&gt;0.663&lt;/td&gt;
&lt;td&gt;0.690&lt;/td&gt;
&lt;td&gt;0.775&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;0.513&lt;/td&gt;
&lt;td&gt;0.522&lt;/td&gt;
&lt;td&gt;0.530&lt;/td&gt;
&lt;td&gt;0.551&lt;/td&gt;
&lt;td&gt;0.575&lt;/td&gt;
&lt;td&gt;0.633&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;strs&#34;&gt;strs&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;RS&lt;/th&gt;
&lt;th&gt;tt1&lt;/th&gt;
&lt;th&gt;tt2&lt;/th&gt;
&lt;th&gt;tt3&lt;/th&gt;
&lt;th&gt;tt4&lt;/th&gt;
&lt;th&gt;tt5&lt;/th&gt;
&lt;th&gt;tt6&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;0.798&lt;/td&gt;
&lt;td&gt;0.812&lt;/td&gt;
&lt;td&gt;0.823&lt;/td&gt;
&lt;td&gt;0.853&lt;/td&gt;
&lt;td&gt;0.886&lt;/td&gt;
&lt;td&gt;0.920&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;0.612&lt;/td&gt;
&lt;td&gt;0.624&lt;/td&gt;
&lt;td&gt;0.633&lt;/td&gt;
&lt;td&gt;0.663&lt;/td&gt;
&lt;td&gt;0.689&lt;/td&gt;
&lt;td&gt;0.775&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;0.513&lt;/td&gt;
&lt;td&gt;0.523&lt;/td&gt;
&lt;td&gt;0.531&lt;/td&gt;
&lt;td&gt;0.551&lt;/td&gt;
&lt;td&gt;0.576&lt;/td&gt;
&lt;td&gt;0.636&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;stnet&#34;&gt;stnet&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;RS&lt;/th&gt;
&lt;th&gt;tt1&lt;/th&gt;
&lt;th&gt;tt2&lt;/th&gt;
&lt;th&gt;tt3&lt;/th&gt;
&lt;th&gt;tt4&lt;/th&gt;
&lt;th&gt;tt5&lt;/th&gt;
&lt;th&gt;tt6&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;0.798&lt;/td&gt;
&lt;td&gt;0.812&lt;/td&gt;
&lt;td&gt;0.823&lt;/td&gt;
&lt;td&gt;0.861&lt;/td&gt;
&lt;td&gt;0.909&lt;/td&gt;
&lt;td&gt;1.037&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;0.612&lt;/td&gt;
&lt;td&gt;0.624&lt;/td&gt;
&lt;td&gt;0.633&lt;/td&gt;
&lt;td&gt;0.661&lt;/td&gt;
&lt;td&gt;0.698&lt;/td&gt;
&lt;td&gt;0.796&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;0.513&lt;/td&gt;
&lt;td&gt;0.523&lt;/td&gt;
&lt;td&gt;0.531&lt;/td&gt;
&lt;td&gt;0.553&lt;/td&gt;
&lt;td&gt;0.584&lt;/td&gt;
&lt;td&gt;0.667&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
    </item>
    
    <item>
      <title>Tied time data → Untied</title>
      <link>https://enochytchen.com/tutorials/relsurv/tied/</link>
      <pubDate>Tue, 22 Sep 2020 00:00:00 +0000</pubDate>
      <guid>https://enochytchen.com/tutorials/relsurv/tied/</guid>
      <description>&lt;p&gt;The codes used in this tutorial are available below.&lt;br&gt;

&lt;a href=&#34;https://enochytchen.com/tutorials/relsurv/tied/rs.surv.R&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rs.surv&lt;/a&gt;&lt;br&gt;

&lt;a href=&#34;https://enochytchen.com/tutorials/relsurv/tied/using_colon_tied.do&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;stpp, strs, stnet (original tied data)&lt;/a&gt;&lt;br&gt;

&lt;a href=&#34;https://enochytchen.com/tutorials/relsurv/tied/using_colon_untied.do&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;stpp, strs, stnet (untied data)&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;settings&#34;&gt;Settings&lt;/h3&gt;
&lt;p&gt;This tutorial first used the colon.dta, which is originally a tied survival time data, to generate the relative survival estimates of 1-, 5-, and 10-year relative survival using the Pohar-Perme estimator (1), by &lt;code&gt;rs.surv()&lt;/code&gt; in R, &lt;code&gt;stpp&lt;/code&gt;,  &lt;code&gt;strs&lt;/code&gt;,  &lt;code&gt;stnet&lt;/code&gt; in Stata. In the second part, an small epislon ~ $Norm(0, 0.01)$ was added into each individual&amp;rsquo;s survival time to make no individual have exactly the same survival time (to untie the data).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Survival time was calculated by (date of exit - date of diagnosis).&lt;/li&gt;
&lt;li&gt;We define failure as &lt;code&gt;status == 1 2 &lt;/code&gt; (died from cancer or other causes).&lt;/li&gt;
&lt;li&gt;In &lt;code&gt;strs&lt;/code&gt;, &lt;code&gt;ht&lt;/code&gt; (hazard transformation) must be specified to command the survival be calculated by transforming cumulative excess hazard ($\lambda$) instead of an actuarial approach (default) (2). However, in &lt;code&gt;stnet&lt;/code&gt;, the default of calculating the survival is hazard transformation.&lt;/li&gt;
&lt;li&gt;In &lt;code&gt;strs&lt;/code&gt; and &lt;code&gt;stnet&lt;/code&gt;, monthly intervals were calculated  up to ten years by specifying &lt;code&gt;br(0(`=1/12&#39;)10)&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;results&#34;&gt;Results&lt;/h3&gt;
&lt;p&gt;The esimates of 1-, 5-, and 10-year relative survival by each program are shown below:&lt;/p&gt;
&lt;h4 id=&#34;using-colondta-original-tied-time-data&#34;&gt;Using colon.dta (original tied time data)&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;t&lt;/th&gt;
&lt;th&gt;rs.surv&lt;/th&gt;
&lt;th&gt;stpp&lt;/th&gt;
&lt;th&gt;strs&lt;/th&gt;
&lt;th&gt;stnet&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;0.676 (0.669-0.684)&lt;/td&gt;
&lt;td&gt;0.682 (0.674-0.690)&lt;/td&gt;
&lt;td&gt;0.677 (0.669-0.685)&lt;/td&gt;
&lt;td&gt;0.677 (0.669-0.685)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;0.473 (0.463-0.484)&lt;/td&gt;
&lt;td&gt;0.479 (0.468-0.490)&lt;/td&gt;
&lt;td&gt;0.474 (0.463-0.484)&lt;/td&gt;
&lt;td&gt;0.474 (0.463-0.484)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;0.433 (0.414-0.453)&lt;/td&gt;
&lt;td&gt;0.440 (0.421-0.461)&lt;/td&gt;
&lt;td&gt;0.434 (0.415-0.454)&lt;/td&gt;
&lt;td&gt;0.434 (0.415-0.454)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;using-colondta-untied-time-data&#34;&gt;Using colon.dta (untied time data)&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;rs.surv&lt;/th&gt;
&lt;th&gt;stpp&lt;/th&gt;
&lt;th&gt;strs&lt;/th&gt;
&lt;th&gt;stnet&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;0.676 (0.668-0.684)&lt;/td&gt;
&lt;td&gt;0.677 (0.669-0.685)&lt;/td&gt;
&lt;td&gt;0.677 (0.669-0.685)&lt;/td&gt;
&lt;td&gt;0.677 (0.669-0.685)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;0.472 (0.461-0.483)&lt;/td&gt;
&lt;td&gt;0.473 (0.463-0.484)&lt;/td&gt;
&lt;td&gt;0.474 (0.463-0.484)&lt;/td&gt;
&lt;td&gt;0.474 (0.463-0.484)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;0.431 (0.411-0.451)&lt;/td&gt;
&lt;td&gt;0.433 (0.414-0.453)&lt;/td&gt;
&lt;td&gt;0.434 (0.415-0.454)&lt;/td&gt;
&lt;td&gt;0.434 (0.415-0.454)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;explanation&#34;&gt;Explanation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;stnet&lt;/code&gt; should generate the identical estimates as &lt;code&gt;strs&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Removing ties did not have an effect with discrete time estimators using life-table framework. (&lt;code&gt;strs&lt;/code&gt; and &lt;code&gt;stnet&lt;/code&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;references&#34;&gt;References&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Pohar Perme M, Stare J, Estève J. On Estimation in Relative Survival. Biometrics. 2012;68:113-120&lt;/li&gt;
&lt;li&gt;Dickman P, Coviello E. Estimating and modelling relative survival. The Stata Journal. 2015;15:186-215.&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
  </channel>
</rss>
