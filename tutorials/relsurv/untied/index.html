<!DOCTYPE html><html lang="en-us" >

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.8.0">

  

  
  

  
  
  
  
  
    
    
    
  
  

  

  
  
  
    
  
  <meta name="description" content="(Not completed yet)
The codes used in this tutorial are available below.
rs.surv
stpp, strs, stnet
This example showed how the relative survival estimates change given more and more ties are added into the data.">

  
  <link rel="alternate" hreflang="en-us" href="https://enochytchen.com/tutorials/relsurv/untied/">

  


  
  
  
  <meta name="theme-color" content="#3f51b5">
  

  
  
  
  <script src="/js/mathjax-config.js"></script>
  

  
  
  
  
    
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css" integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/stata.min.css" crossorigin="anonymous" title="hl-light">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/stata.min.css" crossorigin="anonymous" title="hl-dark" disabled>
      
    

    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js" integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    

  

  
  
  
    
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap">
    
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  




  


  
  

  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_32x32_fill_lanczos_center_2.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_2.png">

  <link rel="canonical" href="https://enochytchen.com/tutorials/relsurv/untied/">

  
  
  
  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="og:site_name" content="Enoch Yi-Tung Chen">
  <meta property="og:url" content="https://enochytchen.com/tutorials/relsurv/untied/">
  <meta property="og:title" content="Untied time data → Tied | Enoch Yi-Tung Chen">
  <meta property="og:description" content="(Not completed yet)
The codes used in this tutorial are available below.
rs.surv
stpp, strs, stnet
This example showed how the relative survival estimates change given more and more ties are added into the data."><meta property="og:image" content="https://enochytchen.com/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_512x512_fill_lanczos_center_2.png">
  <meta property="twitter:image" content="https://enochytchen.com/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_512x512_fill_lanczos_center_2.png"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2020-10-08T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2020-10-08T00:00:00&#43;00:00">
  

  



  


  


  





  <title>Untied time data → Tied | Enoch Yi-Tung Chen</title>

</head>
<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  









<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">Enoch Yi-Tung Chen</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">Enoch Yi-Tung Chen</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#about"><span>Home</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/post/"><span>Posts</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/talk/"><span>Talks</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/tutorials/"><span>Tutorials</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#contact"><span>Contact</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      <li class="nav-item dropdown theme-dropdown">
        <a href="#" class="nav-link js-theme-selector" data-toggle="dropdown" aria-haspopup="true">
          <i class="fas fa-palette" aria-hidden="true"></i>
        </a>
        <div class="dropdown-menu">
          <a href="#" class="dropdown-item js-set-theme-light">
            <span>Light</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-dark">
            <span>Dark</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-auto">
            <span>Automatic</span>
          </a>
        </div>
      </li>
      

      

    </ul>

  </div>
</nav>


  

<div class="container-fluid docs">
  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
      





  
    
  




<form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
  <input name="q" type="search" class="form-control" placeholder="Search..." autocomplete="off">
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  

  
  
  
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorials/relsurv/">Estimate relative survival</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorials/relsurv/tied/">Tied → Untied</a>

  </div>
  
  <div class="docs-toc-item active">
    <a class="docs-toc-link" href="/tutorials/relsurv/untied/">Untied → Tied</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorials/relsurv/qa/">FAQ</a>

  </div>
  
  
</nav>

    </div>

    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      <ul class="nav toc-top">
        <li><a href="#" id="back_to_top" class="docs-toc-title">Contents</a></li>
      </ul>

      <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#dataset">Dataset</a></li>
        <li><a href="#relative-survival-estimates">Relative survival estimates</a></li>
        <li><a href="#explanation">Explanation</a></li>
        <li><a href="#conclusion">Conclusion</a></li>
      </ul>
    </li>
  </ul>
</nav>

      
    </div>
    

    <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

      <article class="article">

        <div class="docs-article-container">
          <h1>Untied time data → Tied</h1>

          <div class="article-style">
            <p>(Not completed yet)</p>
<p>The codes used in this tutorial are available below.<br>

<a href="https://enochytchen.com/tutorials/relsurv/untied/using_sim.R" target="_blank" rel="noopener">rs.surv</a><br>

<a href="https://enochytchen.com/tutorials/relsurv/untied/using_sim.do" target="_blank" rel="noopener">stpp, strs, stnet</a></p>
<p>This example showed how the relative survival estimates change given more and more ties are added into the data.</p>
<h3 id="dataset">Dataset</h3>
<p>The dataset (<code>scenario2_1.dta</code>) is a simulated data, containing 1000 subjects. The original survival time is untied data with 651 distinct values in years (min: 0.0027; max: 12). We then added ties into the data by flooring the time into discrete days, weeks, months, quaters, or years. More ties are added (i.e., less distinct values) as the time interval becomes larger (days→years). If any survival time became 0 due to flooring, we then made it 0.5 of the time interval (e.g., 0.5 months).</p>
<p>The following table shows how the time was treated in different units.</p>
<table>
<thead>
<tr>
<th>Time variable</th>
<th>Discrete time in</th>
<th>Stata code</th>
<th>Distinct values</th>
</tr>
</thead>
<tbody>
<tr>
<td>tt1</td>
<td>Original continuous time</td>
<td></td>
<td>651</td>
</tr>
<tr>
<td>tt2</td>
<td>Days</td>
<td>(floor(tt1*365.241) + 0.5) /365.241</td>
<td>569</td>
</tr>
<tr>
<td>tt3</td>
<td>Weeks</td>
<td>(floor(tt1*52.177)  + 0.5) /52.177</td>
<td>332</td>
</tr>
<tr>
<td>tt4</td>
<td>Months</td>
<td>(floor(tt1*12)      + 0.5) /12</td>
<td>132</td>
</tr>
<tr>
<td>tt5</td>
<td>Quarters</td>
<td>(floor(tt1*4)       + 0.5) /4</td>
<td>49</td>
</tr>
<tr>
<td>tt6</td>
<td>Years</td>
<td>(floor(tt1)         + 0.5)</td>
<td>13</td>
</tr>
</tbody>
</table>
<h3 id="relative-survival-estimates">Relative survival estimates</h3>
<p>The following tables show the estimates of 1-, 5-, and 10-year relative survival (RS) using the Pohar-Perme estimator by <code>rs.surv</code>, <code>stpp</code>, <code>strs</code>, and <code>stnet</code>. To make the tables look tidier, here we dismissed the 95% CI, which however can be found in the outputs of the syntax.</p>
<h4 id="rssurv">rs.surv()</h4>
<table>
<thead>
<tr>
<th>RS</th>
<th>tt1<br/> original</th>
<th>tt2 <br/> days</th>
<th>tt3  <br/> weeks</th>
<th>tt4  <br/> months</th>
<th>tt5  <br/> quarters</th>
<th>tt6  <br/> years</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>0.797</td>
<td>0.797</td>
<td>0.797</td>
<td>0.790</td>
<td>0.796</td>
<td>0.788</td>
</tr>
<tr>
<td>5</td>
<td>0.618</td>
<td>0.618</td>
<td>0.618</td>
<td>0.618</td>
<td>0.617</td>
<td>0.613</td>
</tr>
<tr>
<td>10</td>
<td>0.534</td>
<td>0.534</td>
<td>0.534</td>
<td>0.536</td>
<td>0.535</td>
<td>0.529</td>
</tr>
</tbody>
</table>
<h4 id="stpp">stpp</h4>
<table>
<thead>
<tr>
<th>RS</th>
<th>tt1<br/> original</th>
<th>tt2 <br/> days</th>
<th>tt3  <br/> weeks</th>
<th>tt4  <br/> months</th>
<th>tt5  <br/> quarters</th>
<th>tt6  <br/> years</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>0.797</td>
<td>0.797</td>
<td>0.796</td>
<td>0.798</td>
<td>0.777</td>
<td>0.709</td>
</tr>
<tr>
<td>5</td>
<td>0.613</td>
<td>0.613</td>
<td>0.613</td>
<td>0.613</td>
<td>0.603</td>
<td>0.595</td>
</tr>
<tr>
<td>10</td>
<td>0.512</td>
<td>0.512</td>
<td>0.512</td>
<td>0.514</td>
<td>0.502</td>
<td>0.484</td>
</tr>
</tbody>
</table>
<h4 id="strs">strs</h4>
<table>
<thead>
<tr>
<th>RS</th>
<th>tt1<br/> original</th>
<th>tt2 <br/> days</th>
<th>tt3  <br/> weeks</th>
<th>tt4  <br/> months</th>
<th>tt5  <br/> quarters</th>
<th>tt6  <br/> years</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>0.798</td>
<td>0.798</td>
<td>0.798</td>
<td>0.798</td>
<td>0.798</td>
<td>0.825</td>
</tr>
<tr>
<td>5</td>
<td>0.612</td>
<td>0.612</td>
<td>0.612</td>
<td>0.612</td>
<td>0.613</td>
<td>0.649</td>
</tr>
<tr>
<td>10</td>
<td>0.513</td>
<td>0.513</td>
<td>0.513</td>
<td>0.513</td>
<td>0.513</td>
<td>0.554</td>
</tr>
</tbody>
</table>
<h4 id="stnet">stnet</h4>
<table>
<thead>
<tr>
<th>RS</th>
<th>tt1<br/> original</th>
<th>tt2 <br/> days</th>
<th>tt3  <br/> weeks</th>
<th>tt4  <br/> months</th>
<th>tt5  <br/> quarters</th>
<th>tt6  <br/> years</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>0.798</td>
<td>0.798</td>
<td>0.798</td>
<td>0.798</td>
<td>0.798</td>
<td>0.799</td>
</tr>
<tr>
<td>5</td>
<td>0.612</td>
<td>0.612</td>
<td>0.612</td>
<td>0.612</td>
<td>0.613</td>
<td>0.614</td>
</tr>
<tr>
<td>10</td>
<td>0.513</td>
<td>0.513</td>
<td>0.513</td>
<td>0.513</td>
<td>0.513</td>
<td>0.514</td>
</tr>
</tbody>
</table>
<h3 id="explanation">Explanation</h3>
<ul>
<li>Generally, introducing ties into the data did not change the esitmates of relative survival no matter which package was used for calculation in this case. One exception happened if discrete time was made into years, which merely 13 distinct values exist, <code>rs.surv()</code> gave a slightly lower estimates for 1-year relative survival (0.788); <code>stpp</code> gave a much lower survival in 1-, 5- and 10-year relative survival (0.709, 0.595, and 0.484 respectively); <code>strs</code>, however, outputed higher esitmates (0.825, 0.649, and 0.554 separately); surprisingly, the output estimated by <code>stnet</code>almost did not change given heavy ties were added.</li>
<li>One thing we should bear in mind is that introducing ties to the data is in fact changing the original data. I tried to add ties in a sensible way and not to change the order of the data as much as possible. However, I am innocent of the lower or higher estimates  <code>rs.surv()</code>, <code>stpp</code>, and <code>strs</code> gave.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<ul>
<li>It is common that the data from cancer register has tied time, e.g., due to protection on patients&rsquo; privacy. As estimating survival, we should pay attention to the potential change on the estimates given the amount of tie is introduced.</li>
</ul>

          </div>

          



          
        </div>

        <div class="body-footer">
          <p>Last updated on Oct 8, 2020</p>

          





          


          


        </div>

      </article>

      <footer class="site-footer">
  

  <p class="powered-by">
    
  </p>

  
  






  <p class="powered-by">
    
    Published with
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic Website Builder</a>
    

    
  </p>
</footer>


    </main>
  </div>
</div>


      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js" integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin="anonymous"></script>

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.8/mermaid.min.js" integrity="sha256-lyWCDMnMeZiXRi7Zl54sZGKYmgQs4izcT7+tKc+KUBk=" crossorigin="anonymous" title="mermaid"></script>
      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js" integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/true.min.js"></script>
        
      

    

    
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    <script>const isSiteThemeDark = false;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks",
        'slides' : "Slides"
        };
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js" integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.66c553246b0f279a03be6e5597f72b52.js"></script>

    






  
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
